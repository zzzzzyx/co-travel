<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Title</title>
    <link href="css/mui.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
</head>
<body>
<header class="mui-bar mui-bar-nav">
    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="touch-action: none;"></a>
    <h1 class="mui-title">活动</h1>
</header>
<div class="mui-content">
    <form id="choose-activity-type" class="mui-input-group">
        <div class="mui-input-row">
            <label>活动类别</label>
            <select class="mui-select" id="select-type">
                <option value="all">全部活动</option>
                <option value="scenic_spot">游览风景区</option>
                <option value="museum">参观博物馆/科技馆</option>
                <option value="house_party">轰趴</option>
                <option value="mountaineering">爬山</option>
                <option value="picnic">野餐</option>
                <option value="tabletop_game">桌游</option>
                <option value="others">其它</option>
            </select>
        </div>
    </form>
    <div class="mui-content-padded">
        <div class = "mui-card" style="background-color: #007aff">
            <div class="mui-card-header" >
                <p>activity name</p>
                <p>activity time</p>
            </div>
            <div class="mui-card-content">activity description</div>
            <div class="mui-card-footer">
                activity ddl
            </div>
        </div>
        <div class = "mui-card" style="background-color: #007aff">
            <div class="mui-card-header">
                <p>activity name</p>
                <p>activity time</p>
            </div>
            <div class="mui-card-content">activity description</div>
            <div class="mui-card-footer">
                activity ddl
            </div>
        </div>
    </div>

</div>
</body>
<script src="js/mui.min.js"></script>
<script src="js/mui.enterfocus.js"></script>
<script src="js/app.js"></script>
<script>
		(function($, doc) {
			$.init();
			$.plusReady(function() {
				function getActivityList(activity_category){
					$.ajax(server_url+'/activity/findAllByCategory',{
						data:{
							category: activity_category
						},
						dataType:'json',//服务器返回json格式数据
						type:'post',//HTTP请求类型
						timeout:5000,//超时时间设置为5秒；
						success:function(response){
							console.log("------");
							var str = JSON.stringify(response);
							console.log(str);
						},
						error:function(xhr,type,errorThrown){
							console.log(xhr.status);
							if(xhr.status==0){
								alert("网络错误");
							}
							else if(xhr.status==500){
								alert("错误的userId或activityId");
							}
							else{
								alert("未知错误");
							}
						},
					});
				}
				
				server_url="http://172.19.240.64:8080";
				type_select=doc.getElementById('select-type');
				type_select.addEventListener('change',function(e){
					getActivityList(type_select.value);
				})
				
				
			});
		}(mui, document));
	</script>
</html>                                                                                                                                                                                        